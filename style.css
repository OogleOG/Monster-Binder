*{box-sizing:border-box}html,body{margin:0;height:100%;font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Arial;background:#0e1020;color:#f0f4ff}
#topbar{display:flex;align-items:center;gap:10px;padding:10px 12px;background:#12162a;border-bottom:1px solid rgba(255,255,255,.08);position:sticky;top:0;z-index:10}
#title{font-weight:900;letter-spacing:.5px}
.pill{background:rgba(255,255,255,.08);padding:6px 10px;border-radius:999px;backdrop-filter: blur(6px);border:1px solid rgba(255,255,255,.12)}
#gold{margin-left:auto;display:flex;align-items:center;gap:8px}
.icon{background:rgba(255,255,255,.08);color:#fff;border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:6px 10px;cursor:pointer}
.icon:hover{transform:translateY(-1px)} .icon:active{transform:translateY(1px)}

.screen{padding:16px}
.hidden{display:none !important}

.menu-grid{display:grid;grid-template-columns:repeat(3, minmax(140px,1fr));gap:16px;margin-top:24px}
.menu-card{border:1px solid rgba(255,255,255,.12);background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));color:#fff;border-radius:16px;padding:20px;cursor:pointer;text-align:center;font-size:22px;box-shadow:0 8px 22px rgba(0,0,0,.25)}
.menu-card.small{font-size:16px;padding:10px 16px}
.menu-card:hover{transform:translateY(-2px)} .menu-card:active{transform:translateY(1px)}

.binder-head{display:flex;align-items:center;gap:16px}
.binder{display:flex;align-items:center;justify-content:center;gap:16px;margin-top:10px}
.pages{width:820px;height:600px;overflow:hidden;position:relative;border-radius:16px;border:1px solid rgba(255,255,255,.12);background:#0b0f1f;}
.pages.with-bg{background: url('assets/binder_bg.png') center/cover no-repeat, #0b0f1f;}
.nav{border:0;background:rgba(255,255,255,.08);color:#fff;border-radius:12px;padding:10px 14px;cursor:pointer}
.indicator{text-align:center;margin-top:8px;opacity:.85}

.page{position:absolute;inset:0;display:grid;grid-template-columns:repeat(3, 1fr);grid-template-rows:repeat(3, 1fr);gap:12px;padding:12px;transition:transform .35s ease}
.card-slot{border-radius:12px;border:2px dashed rgba(255,255,255,.15);display:flex;align-items:center;justify-content:center;position:relative;background:rgba(255,255,255,.03)}
.card{width:92%;height:92%;border-radius:12px;border:3px solid #666;background:#1b213b;display:flex;flex-direction:column;overflow:hidden;box-shadow:inset 0 0 0 3px rgba(0,0,0,.2)}
.card .art{flex:1;display:flex;align-items:center;justify-content:center;background:#0f1530}
.card .meta{padding:8px;font-size:12px;display:grid;grid-template-columns:1fr 1fr;gap:6px;background:rgba(0,0,0,.25)}
.card .name{grid-column:1/3;font-weight:800;margin-bottom:4px}
.locked{background:#0b0f1f;border:3px solid rgba(255,255,255,.1);position:relative}
.locked .meta{display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.2)}
.locked .name{font-weight:800;font-size:14px}

.border-common{border-color:#9aa0a6}
.border-rare{border-color:#56a5ff}
.border-epic{border-color:#b57aff}
.border-legendary{border-color:#ffd166}

.shop-stall{display:grid;grid-template-columns:280px 1fr;gap:16px;align-items:start}
.moggy{background:#12162a;border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:10px;position:relative}
.speech{position:absolute;left:8px;right:8px;top:-8px;background:#fff;color:#111;padding:8px 10px;border-radius:10px;border:2px solid #111;box-shadow:0 6px 16px rgba(0,0,0,.25)}
.speech.fade{opacity:0;transition:opacity .4s ease}

.packs{display:grid;grid-template-columns:repeat(3,minmax(180px,1fr));gap:14px}
.pack{background:#12162a;border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:12px;display:flex;flex-direction:column;gap:10px;align-items:center}
.pack-art-img{width:160px;height:220px;border-radius:12px;border:3px solid #222;object-fit:cover;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.pack-art-img.large{width:200px;height:280px}
.pack .buy{border:0;border-radius:10px;padding:8px 12px;background:#2b5cff;color:#fff;cursor:pointer}
.pack .buy:hover{filter:brightness(1.1)}

.pack-open{margin-top:16px;border-top:1px dashed rgba(255,255,255,.15);padding-top:12px}
.pack-stage{display:flex;gap:12px;align-items:center}

.cost{font-weight:700}

.roster{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px}
.roster .pick{border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.05);border-radius:12px;padding:8px;text-align:center;cursor:pointer}
.roster .pick:hover{transform:translateY(-2px)}
.hpbar{width:240px;height:12px;background:#2a2a3a;border-radius:999px;overflow:hidden;margin:6px 0;border:1px solid rgba(255,255,255,.15)}
.hp{height:100%;background:linear-gradient(90deg,#45d16f,#22b36d);width:100%}
.name{font-weight:800}

.battle-stage{margin-top:12px;border-top:1px dashed rgba(255,255,255,.15);padding-top:12px}
.battle-stage .side{display:inline-block;margin-right:24px;vertical-align:top}
.log{background:#0f1328;border:1px solid rgba(255,255,255,.12);border-radius:10px;padding:8px;height:120px;overflow:auto;margin-top:8px}
.actions{margin-top:8px;display:flex;gap:8px;flex-wrap:wrap}

#warn{color:#ffd166;margin:8px 0}
